#
# BCM_BASE -- Kernel configuration base file for the 47xx/53xx/63xx family
# of Broadcom SoCs using a bhnd(4)-compatible bus interconnect.
#
# This file (and the hints file accompanying it) are not designed to be
# used by themselves. Instead, users of this file should create a kernel
# config file which includes this file (which gets the basic hints), then
# override the default options (adding devices as needed) and adding
# hints as needed.
#
# $FreeBSD$
#

ident		BCM_BASE

hints		"BCM_BASE.hints"
include		"../broadcom/std.broadcom"

# ships with cfe firmware
options 	CFE
options 	ALT_BREAK_TO_DEBUGGER
options 	BREAK_TO_DEBUGGER
options		BOOTVERBOSE=0

makeoptions	INTRNG
options		INTRNG

makeoptions	DEBUG="-g3"		#Build kernel with gdb(1) debug symbols
makeoptions	MODULES_OVERRIDE=""

options 	DDB
options 	KDB

options 	SCHED_4BSD		#4BSD scheduler
options 	INET			#InterNETworking
options 	NFSCL			#Network Filesystem Client
#options 	NFS_ROOT		#NFS usable as /, requires NFSCL
options 	PSEUDOFS		#Pseudo-filesystem framework
options 	_KPOSIX_PRIORITY_SCHEDULING #Posix P1003_1B real-time extensions

options         FFS                     #Berkeley Fast Filesystem
options         SOFTUPDATES             #Enable FFS soft updates support
options         UFS_ACL                 #Support for access control lists
options         UFS_DIRHASH             #Improve performance on big directories

device		geom_uzip
options		GEOM_UZIP
options		GEOM_LABEL			# Providers labelization.
options		ROOTDEVNAME=\"ufs:ufs/FBSD\"	# assumes FW built by 
						# freebsd-build-wifi

# Debugging for use in -current
#options 	DEADLKRES
options 	INVARIANTS
options 	INVARIANT_SUPPORT

#options	BHND_LOGLEVEL=BHND_DEBUG_LEVEL
#options 	BUS_DEBUG
#makeoptions	BUS_DEBUG

# PMC
#options 	HWPMC_HOOKS
#device		hwpmc
#device		hwpmc_mips24k

# bhnd(4)
device		bhnd

# wireless
options 	IEEE80211_DEBUG
options 	IEEE80211_SUPPORT_MESH
options 	IEEE80211_SUPPORT_TDMA
options 	IEEE80211_SUPPORT_SUPERG
options 	IEEE80211_ALQ	# 802.11 ALQ logging support
options		ALQ
device		wlan            # 802.11 support
device		wlan_wep        # 802.11 WEP support
device		wlan_ccmp       # 802.11 CCMP support
device		wlan_tkip       # 802.11 TKIP support
device		wlan_xauth	# 802.11 hostap support

options 	USB_DEBUG		# enable debug msgs
device		usb			# USB Bus (required)
device		uhci			# UHCI PCI->USB interface
device		ehci			# EHCI PCI->USB interface (USB 2.0)

device		uart

device		loop
device		ether
device 		random
device		md
